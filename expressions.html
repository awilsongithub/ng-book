<!doctype html>
<html ng-app='myApp'>
  <head>
    <title>My Angular App</title>
    <!-- <link rel="stylesheet" href="styles.css"> -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.0-rc.2/angular.js"></script>
  </head>
  <body>

    <div ng-controller='MyController'>
      <input ng-model='to' type='email' placeholder='Recipient'>
      <textarea ng-model='emailBody'></textarea>
      <pre>{{ previewText }}</pre>
    </div>


    <script type="text/javascript">
      angular.module('myApp', [])
        .controller('MyController',
          function($scope, $interpolate){
          // what to watch and function to run
          $scope.watch('emailBody', function(body){
            if (body){
              var template = $interpolate(body);
              // adds the to value to the previewText ??
              $scope.previewText = template({ to: $scope.to });
            }
          });
        });
    </script>
  </body>
</html>
